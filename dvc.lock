schema: '2.0'
stages:
  download_zones:
    cmd: curl 'https://api.electricitymap.org/v3/zones' > data/raw/electricitymaps_zones.json
    outs:
    - path: data/raw/electricitymaps_zones.json
      hash: md5
      md5: 57e7d3857ff51a7b00cf492dfc04b7fe
      size: 18925
  unpack_gridemissions:
    cmd: "tar xvfz data/raw/gridemissions_bulk_file.tar.gz -C data/interim/ && mv
      data/interim/processed data/interim/gridemissions\n"
    outs:
    - path: data/interim/gridemissions
      hash: md5
      md5: 43c7805202a1ea8327a38b36096c76d8.dir
      size: 4440882182
      nfiles: 109
  get_recent_gridemissions_from_api:
    cmd: "curl \"https://api.gridemissions.com/data?dataset=elec&start=20240615&end=20240817\"\
      \ > data/raw/recent_grid_emissions.csv\n"
    outs:
    - path: data/raw/recent_grid_emissions.csv
      hash: md5
      md5: e5e3668dfbfd2956058069e05442333b
      size: 5052740
